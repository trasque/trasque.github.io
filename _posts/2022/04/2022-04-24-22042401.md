---
title: First post on Jekyll
date: 2022-4-24 19:39
categories: [Blog, Diary]
tags: [jekyll, github_pages, ssg]
image:
  src: /assets/img/avatar01.png
  w: 200
  h: 200
  alt: alt message
---

## Jekyll を使ってみました

Jekyllは静的サイトジェネレータとよばれるものです。Rubyで動いています。Github Pagesにとりあえず `.md` を投げても良かったのですが、どうやらそれだとビルド作業に時間がかかるようでした。Github Pages内でJekyllが走り、 `.md` を `.html` に変換してくれているみたいですね。

なので、ローカルにRubyとJekyllをインストールして手元でビルドすることにしました。こうすると、ローカルですぐにマークダウンのプレビューも行えて、とてもいいですね。Github Pagesで選べるテーマも反映してローカルプレビューするには、テーマを配布しているリポジトリの説明に従う必要がありそうです。

このポストを書いている段階では[Merlot](https://github.com/pages-themes/merlot)と呼ばれるテーマを使用しました。ここによると、まずリポジトリをまるごとクローンして、その中に入っている `script/bootstrap` を起動してくれとあります。基本はそれだけで良いようです。とても簡単な手順にしてくれていて、ありがたいです。

Jekyllでブログのようなことをやろうとするならば、Jekyll公式のリポジトリに行ってStep by Stepチュートリアルの指示に従えばよさそうです。静的サイトジェネレータを触るのが初なのもありましたが、このときはじめてRubyをインストールしたのでなかなか大変でした。

Merlotテーマをクローンして、その中でJekyllのやりかたを構築することになるので、どこまでがテーマの話で、どこからがJekyllの話なのかをうまく認識しなければならず、その点が大変でした。

とりあえずJekyll公式のチュートリアルに従ってビルドすれば `_site` というディレクトリが作成されるようで、こいつが成果物になるように周辺ファイルを整えていくというのが、ひとまず正解かなと思っています。

ブログの周辺状況を整えるのは、まず `_layouts` に追加したブログ用の `.html` があります。テーマは `default.html` に記述されているものを継承する形にするので、追加したレイアウトファイルには `layout: default` と記述します。このようなファイルの頭に記述する設定をフロントマターと言うようです。この言葉はどの程度一般的なんでしょうかね、Jekyllのものなのか、HTMLなら使うものなのか。調べるとyamlファイルのことが出てきますが、設定ファイルとして使っていますのでこちらのことかもしれません。

各記事の `.md` ファイルにはフロントマターとして `layout: post` を記述します。これにより、記事の体裁が追加したレイアウトファイルに沿って継承・統一されます。

あとはブログの入口用の固定HTMLをルートに作って、 `index.html` からリンクしてあげれば閲覧できるようになります。静的サイトジェネレータで、きちんと各ポストへのリンクなどが生成されてすごいですね。ただ、ページ管理のようにはならないので、これについてはJekyllのプラグインを使う必要がありそうです。まあこれは……そのうちやればいいかな。